WGS Pipeline
===

## Summary
  The WGS Pipeline is used to analyze human whome genome data for somatic SNV/INDEL, somatic CNV, somatic SV, Germline mutation, as well as other downstream analysis such as cancer driver gene prediction and mutational signature.     

## Software Requirements

python>=3.5
perl=5.24.1
flash=1.2.11
fastp=0.13.1
gatk=4.0.4
OptiType=1.3.1
msisensor=v0.2
java=1.8.0_162
bwa=0.7.12
samtools=1.4
picard=2.12.1
bcftools=1.4
HMMcopy	/share/public/software/HMMcopy/bin
R=3.4.0
split=8.28
pigz=2.3.4
sambamba=0.6.8
gatk=3.8
bedtools=2.19.1
annovar	/share/public/database/Annovar/2017Jul16
annovarDB	/share/public/database/Annovar/2017Jul16/humandb/
dbsnpHGVS	/share/work3/wangrr/DB/hg19/dbsnp141.total.hgvs
kegg	/share/work3/wangrr/DB/hg19/9606.geneid2go_kegg.xls
2bit	/share/work3/wangrr/DB/hg19/hg19.2bit
dbsnp	/share/public/database/dbSNP/147/ncbi.hg19_dbsnp147.vcf
cosmic	/share/public/database/cosmic/V82/VCF/Cosmic_chr_noMT.vcf
genome	/share/work3/wangrr/DB/hg19/hg19AddUnlocalizedVirus.fasta
gff	/share/work3/wangrr/DB/hg19/hg19.gff
wgsa	/share/work3/wangrr/local/wgsa/
manta	/share/public/software/manta/1.2.2/bin/configManta.py
vcfToBedpe	/share/public/software/svtools-Manta2Bedpe/vcfToBedpe
strelka	/share/public/software/strelka/2.8.4/bin/configureStrelkaSomaticWorkflow.py
strelka_germ	/share/public/software/strelka/2.8.4/bin/configureStrelkaGermlineWorkflow.py
sequenza-utils	/share/public/software/workspaces1/env1/bin/sequenza-utils
vepDir	/share/public/software/ensembl/ensembl-tools-release-85/scripts/variant_effect_predictor/
pvacseq	/share/public/software/workspaces2/env1/bin/pvacseq
iedb	/share/work3/wangrr/local/MHC
transvar	/share/public/software/workspaces1/env4/bin/transvar

## Download and Install

git clone -b master git@github.com:ngsky2023/wgs.git 

## Usage

### 1.Help

    python3 wgs/WGS.py --help

```
 -h, --help            show this help message and exit
  -i LIST, --list LIST  fastq file list
  -b BAMLIST, --bamList BAMLIST
                        bam file list
  -p PAIR, --pair PAIR  pair file list
  -n NUMBERJOB, --numberJob NUMBERJOB
                        the max synchronic job number
  -o OUTDIR, --outdir OUTDIR
                        output directory
  -a, --noanalysis      no analysis
  -c CONFIG, --config CONFIG
                        config file
  -L BED, --bed BED     One genomic intervals over which to operate
  -s STEP, --step STEP  run step snv,cnv,sv,ana
```

### 2.Example
    
    2.1 python3 wgs/WGS.py -i fastq.txt  -p pair.txt -o  run -c config.txt

    2.2 nohup make -j 50 -f run/.run.job -k -s 2>nohup.out
